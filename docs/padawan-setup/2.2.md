# Usando JSX com Babel

A criação de um componente `HelloMessage` e de um elemento `<div>` em uma página HTML logo abaixo estava
sendo feito usando as funções `React.createClass()` e `React.createElement()`. Esse código deveria ser familiar
visto que é idêntico ao HTML da seção anterior. Esse HTML vai rodar sem erros em [Browsers compatíveis com ES5](https://kangax.github.io/compat-table/es5/)


```html
<!DOCTYPE html>
<html>
    <head>
        <script src="https://fb.me/react-15.2.0.js"></script>
        <script src="https://fb.me/react-dom-15.2.0.js"></script>
    </head>
<body>
    <div id="app"></div>
    <script>
        var HelloMessage = React.createClass({
            displayName: 'HelloMessage',
            render: function render() {
                return React.createElement('div',null,'Hello ',this.props.name);
            }
        });
        ReactDOM.render(React.createElement(HelloMessage,{ name: 'Valter' }), document.getElementById('app'));
    </script>
</body>
</html>
```

Opcionalmente, usando JSX via Babel, é possível simplificar a criação de Elementos React por abstrair chamada da função Javascript `React.createElement()`.
Assim, esses elementos podem ser escritos de uma maneira mais parecida com a sintaxe do HTML. 

Ao invés de escrever dessa forma, que usa `React.createElement()`:

```javascript
return React.createElement('div',null,'Hello ',this.props.name);
```

Usando JSX, podemos escrever dessa forma:

```javascript
return <div>Hello {this.props.name}</div>;
```

E então Babel irá convertê-lo de volta para o código que usa `React.createElement ()` para que possa ser analisado por uma
uma Engine do JavaScript.

Você pode considerar JSX uma forma de HTML que você pode escrever diretamente em JavaScript que requer
um passo de transformação, feito por Babel, para código ECMAScript 5 que os navegadores podem executar.

Mais será dito sobre JSX no capítulo JSX. Por enquanto, basta perceber que o JSX é uma abstração opcional
fornecido para sua conveniência ao criar elementos React e não será executado em navegadores ES5 sem primeiro
ser transformado por Babel.

## Transofrmando JSX via Babel no Browser

Normalmente, o Babel é configurado para processar automaticamente seus arquivos JavaScript durante o desenvolvimento 
usando a ferramenta Babel CLI (por exemplo, via algo como [webpack] (https://webpack.github.io/)). No entanto, é 
possível usar o Babel diretamente no navegador por meio de um script include. Como estamos apenas começando vamos
evitar ferramentas CLI ou aprender um carregador de módulo para se concentrar em aprender React. Observe que 
você nunca deve usar essa transformação do navegador em um ambiente de produção.

O projeto Babel infelizmente, a partir do Babel 6, já não fornece o arquivo de script necessário (ou seja, `browser.js`) 
para transformar o código JSX para o código ES5 no navegador. Assim, você terá que usar uma versão mais antiga 
do Babel (isto é, 5.8.23) que fornece o arquivo necessário (isto é, `browser.js`) para transformar o JSX / ES * no
navegador.

### Usando `browser.js` (Babel 5.8.23) para transformar JSX no Browser
No arquivo HTML abaixo o código React que temos trabalhado para criar o componente `HelloMessage` foi atualizado 
para usarmos JSX. A transformação do código está ocorrendo proque nós incluímos o arquivo `browser.js` e dado
que o elemento `<script>` tem o tipo `type="text/babel".

```html
<!DOCTYPE html>
<html>
    <head>
        <script src="https://fb.me/react-15.2.0.js"></script>
        <script src="https://fb.me/react-dom-15.2.0.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
    </head>
<body>
    <div id="app"></div>
    <script type="text/babel">
        var HelloMessage = React.createClass({
            render: function() {
                return <div>Hello {this.props.name}</div>;
            }
        });

        ReactDOM.render(<HelloMessage name="Valter" />, document.getElementById('app'));
    </script>
</body>
</html>
```

Embora a transformação do JSX no navegador seja conveniente e fácil de configurar, não é ideal porque o custo da transformação
está ocorrendo em tempo de execução. Isso diminuirá suas páginas da web e poderá causar problemas de memória.
Portanto, usando o browser.js *** não é uma solução de produção ***.

Você deve estar ciente de que os exemplos de código usados neste livro através de JSFiddle usarão o `browser.js`
(Babel 5.8.23) para transformar JSX em código ES5. Em outras palavras, JSFiddle está praticamente fazendo o que você vê
no arquivo HTML acima ao executar o código React.

<!--
#### Notes

* The Babel tool is a [subjective selection](https://facebook.github.io/react/blog/2015/09/10/react-v0.14-rc1.html#compiler-optimizations) from the React team for transforming ES* code and JSX syntax to ES5 code. Learn more about Babel by reading the [Babel handbook](https://github.com/thejameskyle/babel-handbook/blob/master/translations/en/user-handbook.md).
* By using JSX:
    * Less technical people can still understand and modify the required parts. CSS developers and designers will find JSX more familiar than JavaScript alone.
    * You can leverage the full power of JavaScript in HTML and avoid learning or using a templating language. JSX is not a templating solution. It is a declarative syntax used to express a tree structure of UI components.
    * The compiler will find errors in your HTML you might otherwise miss.
    * JSX promotes the idea of inline styles. Which can be a good thing.
* Beware of JSX [Gotchas](http://facebook.github.io/react/docs/jsx-gotchas.html).
* A [JSX specification is currently being drafted](https://facebook.github.io/jsx/). It can be used by anyone as an a XML-like syntax extension to ECMAScript without any defined semantics.

-->